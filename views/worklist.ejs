<%- include("partials/header.ejs") %>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script> 

<h1>Work List</h1>
<div class="box">
    <% if(locals.worklist){ %>
          <% for(var i = 0;i<locals.worklist.length;i++) {%>
              <div class="item">
                <input type="checkbox" class="check" id="<%= i %>input"/>
                <p class="todo" id="<%= i %>paragraph"><%= locals.worklist[i] %></p>
              </div>
          <% } %>
    <% } %>
    
<script>
      $(".check").on("click",function(){
        const doneTodo = this.getAttribute("id");
        if ($(this).prop('checked')) {
            console.log('Checkbox is checked');
            $("#"+doneTodo[0]+"paragraph").addClass("striketodo");
      
          } else {
            console.log('Checkbox is unchecked');
            $("#"+doneTodo[0]+"paragraph").removeClass("striketodo");
      
          }
      })
      
      
</script>    
    <form action="/submitWork" method="post">
      <input type="text" placeholder="New Item" name="todoName" />
      <button type="submit">+</button>
    </form>
</div>
<%- include("partials/footer.ejs") %>
